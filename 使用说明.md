# 🍽️ 美团风格订餐系统 - 使用说明

## 🚀 快速启动

### 方法一：使用SQLite数据库（推荐）

```bash
# 1. 初始化数据库
python run_meituan.py init
# 选择 1 (SQLite)

# 2. 启动应用
python run_meituan.py
```

### 方法二：使用MySQL数据库（PHPStudy）

```bash
# 1. 启动PHPStudy，确保MySQL服务运行
# 2. 创建数据库（可选，脚本会自动处理）
# 3. 初始化数据库
python run_meituan.py init
# 选择 2 (MySQL)

# 4. 启动应用
python run_meituan.py mysql
```

## 📱 功能使用指南

### 🔐 登录系统

访问 http://localhost:5000 会自动跳转到登录页面

**预设账号**：
- **管理员**：`admin` / `admin123`
- **普通用户**：`testuser` / `123456`

### 🏠 首页功能

登录后进入餐厅列表页面：

1. **搜索功能**：在顶部搜索框输入餐厅名或菜品名
2. **分类筛选**：点击分类标签筛选餐厅类型
3. **排序功能**：按评分、销量、距离排序
4. **餐厅卡片**：显示餐厅信息、评分、配送费等

### 🍽️ 点餐流程

1. **选择餐厅**：点击餐厅卡片进入详情页
2. **浏览菜品**：查看菜品分类和推荐菜品
3. **添加到购物车**：点击菜品的"+"按钮
4. **查看购物车**：点击右上角购物车图标
5. **确认订单**：选择收货地址，确认下单

### 🛒 购物车管理

- **查看商品**：按餐厅分组显示
- **调整数量**：使用+/-按钮调整数量
- **删除商品**：点击删除按钮移除商品
- **清空购物车**：清空所有商品
- **结算**：选择地址后提交订单

### 📋 订单管理

在"我的订单"页面可以：
- 查看所有订单历史
- 查看订单详情
- 跟踪订单状态
- 取消未确认的订单

### 👤 个人中心

- **个人资料**：修改用户信息
- **地址管理**：添加、编辑、删除收货地址
- **设置默认地址**：方便快速下单

## 🔧 管理员功能

使用管理员账号登录后，可以使用以下功能：

### 🏪 餐厅管理
- **添加餐厅**：创建新的餐厅
- **编辑餐厅**：修改餐厅信息
- **餐厅状态**：设置营业/休息状态

### 🍽️ 菜品管理
- **添加菜品**：为餐厅添加新菜品
- **编辑菜品**：修改菜品信息和价格
- **上下架**：控制菜品可用性

### 👥 用户管理
- **查看用户**：浏览所有注册用户
- **用户权限**：管理用户角色
- **删除用户**：移除不当用户

### 📊 订单管理
- **订单列表**：查看所有订单
- **订单状态**：更新订单处理状态
- **订单统计**：查看销售数据

## 🗄️ 数据库说明

### 预置数据

系统预置了以下真实餐厅数据：

1. **农耕记（三里屯店）**
   - 招牌口水鸡 ¥48
   - 毛血旺 ¥42
   - 红烧肉 ¥38
   - 宫保鸡丁 ¥32
   - 农耕记炒饭 ¥22

2. **尊宝披萨（国贸店）**
   - 玛格丽特披萨 ¥68
   - 至尊披萨 ¥88
   - 夏威夷披萨 ¥72
   - 意式肉酱面 ¥45

3. **海底捞火锅（王府井店）**
   - 经典牛肉 ¥48
   - 手工面条 ¥8

4. **麦当劳（中关村店）**
   - 巨无霸 ¥22
   - 薯条（大）¥12

5. **星巴克咖啡（三里屯店）**
   - 美式咖啡 ¥28
   - 拿铁 ¥35

### 数据库切换

如需在SQLite和MySQL之间切换：

1. 停止当前应用
2. 运行 `python run_meituan.py init` 重新初始化
3. 选择新的数据库类型
4. 使用对应的启动命令

## 🎨 界面特色

### 美团风格设计
- **黄色主题**：经典的美团黄色配色
- **卡片布局**：现代化的卡片式设计
- **响应式**：支持手机、平板、电脑访问
- **图标丰富**：使用Font Awesome图标库

### 用户体验
- **搜索提示**：智能搜索建议
- **加载动画**：流畅的交互反馈
- **错误提示**：友好的错误信息
- **操作确认**：重要操作的确认对话框

## 🔧 故障排除

### 常见问题

**1. 启动失败**
```
解决方案：
- 检查Python版本（需要3.7+）
- 安装依赖：pip install -r requirements.txt
- 初始化数据库：python run_meituan.py init
```

**2. MySQL连接失败**
```
解决方案：
- 确保PHPStudy的MySQL服务已启动
- 检查用户名密码（默认root/root）
- 手动创建数据库：CREATE DATABASE meituan_waimai;
```

**3. 页面显示异常**
```
解决方案：
- 清除浏览器缓存
- 检查网络连接
- 重启应用服务
```

**4. 购物车不显示数量**
```
解决方案：
- 确保已登录
- 检查JavaScript是否启用
- 刷新页面
```

### 日志查看

应用运行时会在控制台显示详细日志，包括：
- 数据库操作
- 用户请求
- 错误信息

## 📞 技术支持

如遇到问题，请：

1. 查看控制台错误信息
2. 检查数据库连接状态
3. 确认依赖包是否完整安装
4. 参考README.md文档

## 🎯 使用建议

### 开发环境
- 使用SQLite数据库（简单快速）
- 开启Debug模式查看详细错误
- 使用虚拟环境隔离依赖

### 生产环境
- 使用MySQL数据库（性能更好）
- 修改SECRET_KEY为随机值
- 使用WSGI服务器部署

### 数据安全
- 定期备份数据库
- 使用强密码
- 限制管理员权限

---

**祝您使用愉快！** 🍽️✨ 